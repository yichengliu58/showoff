data form for each kind of data transformed:

``
story: {
    sid: 1,
    uid: xxxx,
    text: null,
    imgs: {
        i1: fdsfsdfasfas,
        i2: fsfsdfasdf,
        i3: fdfaf
    },
    datetime: 2010-09-09 12:00:00,
    location: {
        lo: 1,
        la: 2
    },
    ename: xxxxx,
    newevent: true
}
``

`newevent` is a boolean variable, indicating if this event name is a new one
If this field is true, the `location` must not be empty, and will be the location
for this event

story has an unique id, which is generated by the server

``
event: {
    name: xxx,
    datetime: xxx,
    location: {
        la: xx,
        lo: xx
    }
}
``

``
returned_event: {
    name: xxx,
    datetime: xxx,
    distance: 10
}
``

``
chat: {
    uid: xxxx,
    msg: xxxx
}
``

``
resp_status: {
    err: xxxxx,
    code: 1
}
``

``
search_stories: {
    ename: xxx,
    datetime: xxx,
    location: {
        lo: 1,
        la: 2
    }
}
``

socket event definition:
* 'put story': upload a story (together with an event info if there is a new one)
    * data uploaded: `story` defined above
    * data downloaded: `resp_status`
* 'get story by user': given a user id, get all his stories
    * data uploaded: a pure user name (unique)
    * data downloaded: one json string that contains multiple `story` field
* 'get next story': get next one story
    * data uploaded: a story id, if -1, then return the first story
    * data downloaded: one json string contains next one `story` OR `resp_status` if no more story
* 'get previous story': get previous one story
    * data uploaded: must give a story id
    * data downloaded: one json string contains previous one `story` OR `resp_status` if no more 
    story
* 'get all stories': get all stories, with an array returned
    * data uploaded: none
    * data downloaded: an array containing all stories
* 'get all events': get all events
    * data uploaded: doesn't matter, maybe a "*"
    * data downloaded: `returned_event` json string
* 'search event': given a location, get all events around it
    * data uploaded: `event` json string
    * data downloaded: `returned_event` json string
* 'search stories': given some conditions, search stories related
    * data uploaded: `search_stories` json string
    * data downloaded: `story` json array 
* 'chat': chat in one single chat room